:stem: asciimath
= Gll 

`+` any CF grammar

`+` Is stem:[O(n^3)] in worst case 

 #todo -- унифицировать описание, приложить ссылки

== Helper data structures:
Use one of https://bachisheo.github.io/Parsers-Overview/trees/[derivations trees] to store a set of ASTs.

=== Descriptor 

image::media/2024-01-11-17-59-45.png[]

=== GSS: graph structured stack 
Shares common initial substacks and recombines stacks when their associated processes converge

image::media/2024-01-11-17-58-54.png[]

== Algorithm: 

* Build a control table (can be non-deterministic!!!)
* Process descriptors from the queue until it is empty or the "final" descriptor is reached

Descriptor processing: 

* *Terminal*
<A → a #.t# Bm, i, stackA> 

** move the pointer in the string
** add a new descriptor

```
if(w[i] != t) {
    terminate  
}

descriptors.put(<A → at (.B) m, (i + 1), stackA>)
```
* *Nonterminal*
<A → at #.B# Cm, i, stackA> 

** Add descriptors for all valid rules `B → X`
```kotlin
stackB = findOrCreate(stack(B, i))
e = getOrCreateEdge(stackB, stackA, A → atB(.C))

forall (B → X) : table[B,w[i]]{
	descriptor.put(<B → (.X)K, i, stackB>)
} 
```
* *End* of rule: <A → B #.#, i, stack>

** Go back up "across all stacks"

```
for (stack, back_stack, rule): edges{
	deskriptor.put(<rule, i, back_stack>)
}
```


== CNP: clustered nonterminal parsing

 #Note: модификация LL(1) для распознавания всех КС грамматик. Похож на Gll, но исползует BSR. При этом быстрее эффективнее по памяти и по времени. Может быть интересен для дальнейших оптимизаций.